<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
    crossorigin="anonymous">
<html>

<head lang="en">
    <!-- Ajax / jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- Font Awesome -->
    <script src="https://use.fontawesome.com/397c5af911.js"></script>
    <meta charset="utf-8" />
    <title>Wikipedia Viewer SANDBOX</title>
    <script>
        // Generation of a random article
        $(document).ready(function () {
            $("#feelingLuckyButton").click(function () {
                window.open("https://en.wikipedia.org/wiki/Special:Random");
            });
        });

        // Wikipedia search results
        function getApiData(srStr) {
            var result =
                console.log("calling getResults...");
            // Wikipedia API sandbox @ https://en.wikipedia.org/wiki/Special:ApiSandbox#action=query&titles=Main%20Page&prop=revisions&rvprop=content&format=jsonfm
            var wikipediaAPI = "https://en.wikipedia.org";
            wikipediaAPI += "/w/api.php?action=opensearch&format=json&search=";
            wikipediaAPI += srStr;
            wikipediaAPI += "&namespace=0";
            //console.log("wikipediaAPI : ", wikipediaAPI);
            $.ajax({
                url: wikipediaAPI,
                dataType: "json",
                data: {
                    origin: "*"
                },
                type: "GET",
                success: function (data) {
                    // Set the search-box at the top of the screen, to make
                    // room for the results below. 


                    var strHtmlUniqueSearchBox = "";
                    // create variables for result title, description, URL link
                    var arrResultTitle = [];
                    var arrResultDescription = [];
                    var arrResultURL = [];

                    // Create HTML code to be added
                    var strHtmlCode = "";
                    var uniqueResultDiv = "";
                    for (i = 0; i < data[1].length; i++) {
                        arrResultTitle[i] = data[1][i];
                        arrResultDescription[i] = data[2][i];
                        arrResultURL[i] = data[3][i];
                        // Create unique-result-box for each search result
                        uniqueResultDiv = "<a href=" + arrResultURL[i] + " target='_blank'>" + "<div class='row unique-result-box'>"; // reset
                        uniqueResultDiv += "<h1 class='result-title'>" + arrResultTitle[i] + "</h1>"; // title div
                        uniqueResultDiv += "<h2 class='result-description'>" + "<a class='link-text' href=" + arrResultURL[i] + " target='_blank'>" + arrResultDescription[i] + "</a></h2>";// description div
                        uniqueResultDiv += "</div>" + "</a>";// close the unique-result-box
                        // add to overall HTML code to be added
                        strHtmlCode += uniqueResultDiv;
                    };
                    //console.log(strHtmlCode);
                    $("#results-list").append(strHtmlCode);
                },
            });
        };

        $(document).ready(function () {
            $("#searchButton").click(function () {
                var srStr;
                srStr = document.getElementById("searchInput").value;
                //console.log("srStr : " + srStr);
                getApiData(srStr);
            });
        });

    </script>
    <style>
        body {
            background: rgb(143, 143, 226);
            display: flex;
            width: 100%;
            height: 100%;
            justify-content: center;

        }

        .central-box {}

        .search-box {
          margin-top: 5px;
      }

        .btn-group {
            display: flex;
            margin-bottom: 15px;
            margin-top: 5px;
        }

        #feelingLuckyButton {
            margin-right: 2px;
        }

        .results-list {
            color: black;
        }

        a {
            color: black;
            text-decoration: none;

        }

        a:hover {
            text-decoration: none;
            color: black;
        }


        .unique-result-box {
            background: white;
            margin: 5px;
            padding: 10px;
            display: block;
        }

        .unique-result-box:hover {
            background: rgb(219, 219, 161);
        }

        .result-title {
            font-size: 18px;
            font: inherit;
        }

        .result-description {
            font-size: 14px;

        }

        .link-text {}
    </style>
</head>

<body>
    <div class="container central-box">
        <div class="input-group search-box">
            <input class="form-control" type="text" id="searchInput">
        </div>
        <div class="btn-group justify-content-center">
            <button class="btn btn-primary" id="feelingLuckyButton">
                I'm feeling lucky
            </button>
            <button class="btn btn-primary" id="searchButton">
                <i class="fa fa-search"></i>
                Search
            </button>
        </div>
        <div class="container results-list" id="results-list">
            <!-- Search results will appear here -->
        </div>

    </div>

    </div>

</body>

</html>
